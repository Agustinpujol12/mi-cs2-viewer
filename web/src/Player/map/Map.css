/* ============================
   üó∫Ô∏è MAP BASE
   ============================ */

.map {
  background: linear-gradient(to right, #1a1a1a, var(--BlackColor));
}

/* Wrapper general */
.map-wrapper {
  position: relative;
  height: 100%;
  width: 100%;
  overflow: hidden;
  
  /* ‚úÖ CORRECCI√ìN: Usamos 'black' (negro puro) para que se fusione 
     perfectamente con el fondo de la imagen del mapa */
  background-color: black; 
}

/* Contenedor del mapa */
.map-container {
  position: relative;
  height: 100%;
  aspect-ratio: 1 / 1;
  margin: 0 auto;

  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  
  /* Importante: Transparente para dejar ver el fondo del wrapper */
  background-color: transparent; 

  z-index: 0;
  transition: transform 0.2s ease;

  /* üî• Profundidad estilo CS2 */
  box-shadow:
    inset 0 0 40px rgba(0, 0, 0, 0.55),
    0 0 25px rgba(0, 0, 0, 0.8);

  /* üåë FILTRO T√ÅCTICO: Oscurece el mapa para que resalten los jugadores */
  filter: saturate(0.2) brightness(0.6) contrast(1.1);
}

/* Vi√±eta tipo CS2 Lens */
.map-container::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
    circle,
    transparent 55%,
    rgba(0, 0, 0, 0.45) 90%
  );
  z-index: 5;
}

/* ============================
   üí® NADES / SMOKES
   ============================ */

.mapNade {
  width: 1.4%;
  height: 1.4%;
  margin-left: -0.7%;
  margin-top: -0.7%;

  border-radius: 50%;
  position: absolute;

  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;

  opacity: 0.9;

  box-shadow:
    0 0 8px rgba(0, 0, 0, 0.8);

  transition:
    left 60ms linear,
    top 60ms linear,
    opacity 60ms linear,
    background 60ms linear;

  will-change: left, top;
}

/* üí® SMOKE EXPLODE ‚Äì VERSI√ìN S√ìLIDA GRIS */
.smoke.explode {
  width: 10%;
  height: 10%;
  margin-left: -5%;
  margin-top: -5%;

  border-radius: 50%;
  position: absolute;

  /* Degradado gris para simular densidad */
  background: radial-gradient(
    circle,
    rgba(140, 140, 140, 0.98) 0%,   
    rgba(110, 110, 110, 0.95) 40%,  
    rgba(70, 70, 70, 0.85) 70%,     
    transparent 85%                 
  );

  /* Sombras oscuras para dar volumen */
  box-shadow:
    0 0 15px rgba(30, 30, 30, 0.6),      
    inset 0 0 25px rgba(40, 40, 40, 0.5);

  filter: blur(0.4px);
  animation: smokePulse 3.5s infinite ease-in-out;
}

@keyframes smokePulse {
  0% {
    transform: scale(1);
    opacity: 0.95;
  }
  50% {
    transform: scale(1.12);
    opacity: 0.85;
  }
  100% {
    transform: scale(1);
    opacity: 0.95;
  }
}

/* ============================
   üîò BOTONES MAPA
   ============================ */

.map-button {
  position: absolute;
  bottom: 32px;
  z-index: 1000;

  width: 64px;
  height: 64px;
  padding: 6px;

  font-size: 32px;
  border-radius: 10px;
  border: 2px solid rgba(120, 120, 120, 0.3);

  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(6px);

  color: #ccc;
  cursor: pointer;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  box-shadow:
    0 0 15px rgba(0, 0, 0, 0.7);
}

.map-button:hover {
  background: rgba(50, 50, 50, 0.5);
  color: #fff;
}

.zoom-reset {
  right: 32px;
}

.layer-toggle {
  right: 110px;
}

.layer-toggle.lower-active {
  background: rgba(20, 20, 20, 0.6);
}

/* Iconos */
.layer-icon,
.zoom-icon {
  font-size: 32px;
  line-height: 1;
}

.layer-hint,
.zoom-hint {
  font-size: 13px;
  color: #aaa;
  margin-top: 2px;
  line-height: 1;
}