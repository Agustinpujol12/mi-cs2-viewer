/* =========================================
   üèÉ JUGADOR BASE
   ========================================= */

/* =========================================
   üé® PALETA DE COLORES (CORREGIDA)
   ========================================= */
:root {
  /* ‚ö†Ô∏è ERROR ANTERIOR: Ten√≠as '!important' aqu√≠. */
  /* EN CSS, LAS VARIABLES NO LLEVAN !IMPORTANT EN SU DEFINICI√ìN O SE ROMPEN. */
  --CTColor: #5f97b6; 
  --TColor: #d4a74e;   
}

.player {
  width: 2.2%; 
  height: 2.2%;
  margin-left: -1.1%;
  margin-top: -1.1%;
  
  border-radius: 50%;
  position: absolute;
  z-index: 20;
  transition: all 60ms linear;
  
  border: 2px solid #ffffff; 
  box-shadow: 0 1px 3px rgba(0,0,0, 0.5);
}

/* --- COLORES DE EQUIPO --- */
.player.CT {
  background-color: var(--CTColor);
  /* Definimos color de texto para que la X de muerte lo herede */
  color: var(--CTColor);
}

.player.T {
  background-color: var(--TColor);
  color: var(--TColor);
}

/* --- ESTADO FLASHEADO --- */
.player.flashed {
  background-color: #ffffff !important;
  box-shadow: 0 0 10px white;
  border-color: #e0e0e0;
}

/* =========================================
   üíÄ MUERTE (La "X" Limpia)
   ========================================= */
.player.dead {
  /* üõë ELIMINAMOS CUALQUIER FONDO O IMAGEN PREVIA (LA CALAVERA) */
  background: none !important;
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  opacity: 1 !important; 
  z-index: 5;
}

/* Ocultamos todo lo dem√°s */
.player.dead .playerArrowContainer, 
.player.dead .playerMapWeapon, 
.player.dead .playerNameTag {
  display: none !important;
}

.player.dead::after {
  /* Forzamos la X */
  content: "X" !important; 
  
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);

  font-weight: 900;
  font-size: 2vh;
  
  /* üõë FORZAMOS FUENTE DE TEXTO PARA EVITAR EMOJIS DE CALAVERA */
  font-family: Arial, Helvetica, sans-serif !important; 

  text-shadow: 0 0 3px rgba(0,0,0,0.9);

  /* üî• COLOR: Usa el color del equipo (CT o T) */
  color: currentColor !important;
  
  /* Reseteamos filtros por si acaso */
  filter: none !important;
  mix-blend-mode: normal !important;
}

/* =========================================
   üëÄ FLECHA PUNTA S√ìLIDA
   ========================================= */
.playerArrowContainer {
  position: absolute;
  width: 130%; height: 130%;
  top: -15%; left: -15%;
  pointer-events: none;
  z-index: 21; 
}

.playerArrow {
  position: absolute; width: 100%; height: 100%; transform-origin: 50% 50%;
}

.solidArrowTip {
  position: absolute;
  top: -24%; /* Ajustado para tocar el borde */
  left: 50%; transform: translateX(-50%);

  width: 0; height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 7px solid #ffffff;
  
  filter: drop-shadow(0 -1px 1px rgba(0,0,0,0.3));
}

/* =========================================
   üè∑Ô∏è ETIQUETA DE NOMBRE Y ARMA
   ========================================= */

/* 1. ARMA */
.playerMapWeapon {
  position: absolute;
  top: -45px; 
  left: 50%; transform: translateX(-50%);
  width: 28px; height: 14px; 
  z-index: 35;
  background-size: contain; background-repeat: no-repeat; background-position: bottom center;
  filter: drop-shadow(0 1px 1px black);
}

/* 2. NOMBRE */
.playerNameTag {
  position: absolute;
  top: -25px; 
  left: 50%; transform: translateX(-50%);
  
  display: block; 
  border-radius: 8px;
  
  color: #111111; 
  font-size: 1.1vh;
  line-height: 1; 
  font-weight: 600; 
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  
  white-space: nowrap; 
  padding: 1px 5px;
  
  z-index: 30; pointer-events: none;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  border: 1px solid rgba(255,255,255,0.5);
}

.player.CT .playerNameTag { background-color: var(--CTColor); }
.player.T .playerNameTag { background-color: var(--TColor); }